# Code generated by smithy-python-codegen DO NOT EDIT.

from typing import AsyncIterable

from smithy_python._private import Field, Fields, URI as _URI
from smithy_python._private.http import HTTPRequest as _HTTPRequest
from smithy_python.interfaces.blobs import AsyncBytesReader
from smithy_python.interfaces.http import HTTPRequest

from .config import Config
from .models import EchoMessageInput


async def _serialize_echo_message(input: EchoMessageInput, config: Config) -> HTTPRequest:
    path = "/echo"
    query: str = f''

    body: AsyncIterable[bytes] = AsyncBytesReader(b'')
    headers = Fields(
        [

        ]
    )

    if input.message:
        headers.extend(Fields([Field(name="x-echo-message", values=[input.message])]))
    return _HTTPRequest(
        destination=_URI(
            host="",
            path=path,
            scheme="https",
            query=query,
        ),
        method="POST",
        fields=headers,
        body=body,
    )
